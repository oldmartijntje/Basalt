<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../components/technical/head') %>
</head>

<body>
    <%- include('../components/default/header') %>


        <div class="dashboard-app">
            <aside class="dashboard-sidebar">
                <div class="sidebar-header">ðŸ¦• Dashboard</div>
                <ul class="sidebar-list">
                    <li class="sidebar-item active" data-tab="home">
                        <span>home.ejs</span>
                    </li>
                    <li class="sidebar-item" data-tab="template">
                        <span>template.ejs</span>
                    </li>
                    <li class="sidebar-item" data-tab="users">
                        <span>users.ejs</span>
                    </li>
                </ul>
            </aside>
            <main class="dashboard-main-content" id="dashboard-content">
                <!-- Content will be loaded here -->
            </main>
        </div>
        <script>
            // Simple SPA-like tab switching
            const tabs = document.querySelectorAll('.sidebar-item');
            const content = document.getElementById('dashboard-content');
            const tabFiles = {
                home: '/views/pages/dashboardHome.ejs',
                template: '/views/pages/dashboardTemplate.ejs',
                users: '/views/pages/dashboardUsers.ejs'
            };
            async function loadTab(tab) {
                let url;
                switch (tab) {
                    case 'home': url = '/dashboard/home-content'; break;
                    case 'template': url = '/dashboard/template-content'; break;
                    case 'users': url = '/dashboard/users-content'; break;
                    default: url = '/dashboard/home-content';
                }
                const res = await fetch(url);
                const html = await res.text();
                content.innerHTML = html;
            }
            tabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    document.querySelector('.sidebar-item.active').classList.remove('active');
                    tab.classList.add('active');
                    loadTab(tab.dataset.tab);
                });
            });
            // Initial load
            loadTab('home');
        </script>
        <style>
            .dashboard-app {
                display: flex;
                flex-grow: 1;
                min-height: 0;
                background: #1e1e1e;
                color: #d4d4d4;
                font-family: 'Segoe UI', 'Fira Mono', monospace;
                border-radius: 8px;
                overflow: hidden;
            }
            .dashboard-sidebar {
                width: 220px;
                background: #252526;
                padding: 1em 0;
                display: flex;
                flex-direction: column;
            }
            .sidebar-header {
                font-weight: bold;
                font-size: 1.2em;
                padding: 0.5em 1em;
                border-bottom: 1px solid #333;
            }
            .sidebar-list {
                list-style: none;
                padding: 0;
                margin: 0;
            }
            .sidebar-item {
                padding: 0.7em 1.5em;
                cursor: pointer;
                display: flex;
                align-items: center;
                border-left: 3px solid transparent;
                transition: background 0.2s;
            }
            .sidebar-item.active {
                background: #37373d;
                border-left: 3px solid #007acc;
                color: #fff;
            }
            .sidebar-item:hover {
                background: #2c2c32;
            }
            .sidebar-item span {
                margin-left: 0.5em;
            }
            .dashboard-main-content {
                flex: 1;
                padding: 2em;
                background: #1e1e1e;
                overflow-y: auto;
            }
        </style>
        <script src="/helperMethods.js"></script>
        <%- include('../components/technical/bootstrapAndTracking') %>
</body>

</html>